<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registration | amasQIS.ai</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
    <style>
        .logo-text {
            font-family: 'Montserrat', sans-serif;
            letter-spacing: 2px;
        }

        .fade-in {
            opacity: 0;
            transform: translateY(32px);
            transition: opacity 0.7s cubic-bezier(.4, 0, .2, 1), transform 0.7s cubic-bezier(.4, 0, .2, 1);
        }

        .fade-in.show {
            opacity: 1;
            transform: translateY(0);
        }

        .input-anim {
            transition: border 0.2s, box-shadow 0.2s;
        }

        .focus-style:focus {
            border-color: #6366f1 !important;
            box-shadow: 0 0 0 3px #dbeafe;
        }

        .shake {
            animation: shake 0.25s 1;
        }

        @keyframes shake {
            0% {
                transform: translateX(0);
            }

            20% {
                transform: translateX(-6px);
            }

            40% {
                transform: translateX(6px);
            }

            60% {
                transform: translateX(-4px);
            }

            80% {
                transform: translateX(4px);
            }

            100% {
                transform: translateX(0);
            }
        }
    </style>
</head>

<body class="min-h-screen bg-gradient-to-tr from-blue-100 via-white to-pink-100 flex items-center justify-center p-3">

    <div class="w-full max-w-md mx-auto bg-white/95 rounded-3xl shadow-2xl px-6 py-8 fade-in">

        <!-- Logo/heading -->
        <div class="flex flex-col items-center mb-7">
            <img src="https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg" class="w-12 h-12 mb-2"
                alt="logo" />
            <div class="logo-text text-2xl font-bold text-blue-700 mb-1">amasQIS.ai</div>
            <h1 class="text-xl font-extrabold text-blue-800 mb-1 text-center">Register your Account</h1>
            <div class="text-sm text-gray-400 mb-1 text-center">Create your amasQIS profile</div>
        </div>

        <form id="regForm" action="register.php" method="POST" autocomplete="off" novalidate>
            <!-- Name -->
            <div class="mb-5">
                <label for="name" class="block text-blue-700 font-semibold mb-1">Full Name</label>
                <input type="text" id="name" name="name" required
                    class="w-full px-4 py-3 rounded-2xl border-2 border-gray-200 bg-gray-50 input-anim focus-style text-base outline-none shadow focus:shadow-lg"
                    placeholder="Enter your full name" />
                <div id="nameErr" class="text-pink-500 text-xs mt-1 hidden">Please enter your name.</div>
            </div>
            <!-- Email -->
            <div class="mb-5">
                <label for="email" class="block text-blue-700 font-semibold mb-1">Email</label>
                <input type="email" id="email" name="email" required
                    class="w-full px-4 py-3 rounded-2xl border-2 border-gray-200 bg-gray-50 input-anim focus-style text-base outline-none shadow focus:shadow-lg"
                    placeholder="Enter your email address" />
                <div id="emailErr" class="text-pink-500 text-xs mt-1 hidden">Enter a valid email address.</div>
            </div>
            <!-- Password -->
            <div class="mb-2 relative">
                <label for="password" class="block text-blue-700 font-semibold mb-1">Password</label>
                <input type="password" id="password" name="password" required minlength="6"
                    class="w-full px-4 py-3 rounded-2xl border-2 border-gray-200 bg-gray-50 input-anim focus-style text-base outline-none shadow focus:shadow-lg pr-12"
                    placeholder="Create a password" />
                <button type="button" id="togglePassword"
                    class="absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-full bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-200 transition"
                    aria-label="Toggle password visibility">
                    <!-- Eye SVG (show) -->
                    <svg id="eyeOpen" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-gray-500" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M1.5 12s3.5-7 10.5-7 10.5 7 10.5 7-3.5 7-10.5 7S1.5 12 1.5 12z" />
                        <circle cx="12" cy="12" r="3" stroke-width="2" stroke="currentColor" fill="none" />
                    </svg>
                    <!-- Eye Off SVG (hide) -->
                    <svg id="eyeClosed" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-gray-500 hidden"
                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M3 3l18 18M10.7 10.7A3 3 0 0112 9a3 3 0 013 3c0 .394-.079.77-.217 1.11M6.14 6.14C4.36 7.69 2.88 9.68 1.5 12c2.78 4.5 7.22 7 10.5 7 1.61 0 3.15-.33 4.55-.94M17.86 17.86C19.64 16.31 21.12 14.32 22.5 12c-2.78-4.5-7.22-7-10.5-7-1.1 0-2.16.16-3.18.45" />
                    </svg>
                </button>
                <div id="passErr" class="text-pink-500 text-xs mt-1 hidden">Password must be at least 6 characters.
                </div>
            </div>
            <!-- Confirm Password -->
            <div class="mb-6 relative">
                <label for="confirmPassword" class="block text-blue-700 font-semibold mb-1">Confirm Password</label>
                <input type="password" id="confirmPassword" name="confirmPassword" required minlength="6"
                    class="w-full px-4 py-3 rounded-2xl border-2 border-gray-200 bg-gray-50 input-anim focus-style text-base outline-none shadow focus:shadow-lg pr-12"
                    placeholder="Re-enter your password" />
                <button type="button" id="toggleConfirmPassword"
                    class="absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-full bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-200 transition text-center"
                    aria-label="Toggle confirm password visibility">
                    <!-- Eye SVG (show) -->
                    <svg id="eyeOpen2" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-gray-500" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M1.5 12s3.5-7 10.5-7 10.5 7 10.5 7-3.5 7-10.5 7S1.5 12 1.5 12z" />
                        <circle cx="12" cy="12" r="3" stroke-width="2" stroke="currentColor" fill="none" />
                    </svg>
                    <!-- Eye Off SVG (hide) -->
                    <svg id="eyeClosed2" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-gray-500 hidden"
                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M3 3l18 18M10.7 10.7A3 3 0 0112 9a3 3 0 013 3c0 .394-.079.77-.217 1.11M6.14 6.14C4.36 7.69 2.88 9.68 1.5 12c2.78 4.5 7.22 7 10.5 7 1.61 0 3.15-.33 4.55-.94M17.86 17.86C19.64 16.31 21.12 14.32 22.5 12c-2.78-4.5-7.22-7-10.5-7-1.1 0-2.16.16-3.18.45" />
                    </svg>
                </button>
                <div id="cpassErr" class="text-pink-500 text-xs mt-1 hidden">Passwords do not match.</div>
            </div>
            <!-- Register Button -->
            <button type="submit"
                class="w-full py-3 rounded-2xl bg-gradient-to-r from-blue-500 to-pink-400 text-white font-bold text-lg shadow-lg hover:from-pink-400 hover:to-blue-500 transition-all active:scale-95 focus:ring-2 focus:ring-blue-300">
                Register
            </button>
            <!-- Success/error message -->
            <div id="regMsg" class="text-center text-sm mt-5"></div>
        </form>
    </div>

    <script>
        window.addEventListener('DOMContentLoaded', () => setTimeout(() => document.querySelector('.fade-in').classList.add('show'), 100));

        // Password field show/hide
        document.getElementById('togglePassword').onclick = function () {
            const pwd = document.getElementById('password');
            const open = document.getElementById('eyeOpen');
            const closed = document.getElementById('eyeClosed');
            if (pwd.type === "password") {
                pwd.type = "text";
                open.classList.add('hidden');
                closed.classList.remove('hidden');
            } else {
                pwd.type = "password";
                open.classList.remove('hidden');
                closed.classList.add('hidden');
            }
        };
        document.getElementById('toggleConfirmPassword').onclick = function () {
            const pwd = document.getElementById('confirmPassword');
            const open = document.getElementById('eyeOpen2');
            const closed = document.getElementById('eyeClosed2');
            if (pwd.type === "password") {
                pwd.type = "text";
                open.classList.add('hidden');
                closed.classList.remove('hidden');
            } else {
                pwd.type = "password";
                open.classList.remove('hidden');
                closed.classList.add('hidden');
            }
        };

        // Validation before submitting to PHP
        const regForm = document.getElementById('regForm');
        const emailRE = /^[\w-.]+@([\w-]+\.)+[\w-]{2,}$/;
        regForm.onsubmit = function (e) {
            // JS validation
            let valid = true;
            ['nameErr', 'emailErr', 'passErr', 'cpassErr', 'regMsg'].forEach(id => document.getElementById(id).classList.add('hidden'));
            document.getElementById('regMsg').textContent = "";

            if (!regForm.name.value.trim()) { valid = false; showErr('nameErr'); shake('name'); }
            if (!emailRE.test(regForm.email.value.trim())) { valid = false; showErr('emailErr'); shake('email'); }
            if (regForm.password.value.length < 6) { valid = false; showErr('passErr'); shake('password'); }
            if (regForm.password.value !== regForm.confirmPassword.value) { valid = false; showErr('cpassErr'); shake('confirmPassword'); }

            if (!valid) { e.preventDefault(); }
        };
        function showErr(id) { document.getElementById(id).classList.remove('hidden'); }
        function shake(fieldId) {
            const el = document.getElementById(fieldId);
            el.classList.add('shake');
            setTimeout(() => el.classList.remove('shake'), 300);
        }
    </script>
</body>

</html>